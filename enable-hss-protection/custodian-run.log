2025-04-24 19:40:52,764 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/cloud-custodian/c7n/policy.py", line 330, in run
    resources = self.policy.resource_manager.resources()
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/query.py", line 420, in resources
    resources = self._fetch_resources(q)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/query.py", line 439, in _fetch_resources
    return self.augment(self.source.get_resources(query)) or []
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/query.py", line 326, in get_resources
    return self.query.filter(self.manager, **query)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/query.py", line 56, in filter
    resources = self._pagination_limit_offset(m, enum_op, path, limit)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/query.py", line 100, in _pagination_limit_offset
    resources = resources + res
TypeError: can only concatenate list (not "NoneType") to list
2025-04-24 19:56:19,657 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/cloud-custodian/c7n/policy.py", line 330, in run
    resources = self.policy.resource_manager.resources()
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/query.py", line 426, in resources
    resources = self._fetch_resources(q)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/query.py", line 445, in _fetch_resources
    return self.augment(self.source.get_resources(query)) or []
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/query.py", line 332, in get_resources
    return self.query.filter(self.manager, **query)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/query.py", line 56, in filter
    resources = self._pagination_limit_offset(m, enum_op, path, limit)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/query.py", line 106, in _pagination_limit_offset
    resources = resources + res
TypeError: can only concatenate list (not "NoneType") to list
2025-04-24 19:58:29,152 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/cloud-custodian/c7n/policy.py", line 330, in run
    resources = self.policy.resource_manager.resources()
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/query.py", line 426, in resources
    resources = self._fetch_resources(q)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/query.py", line 445, in _fetch_resources
    return self.augment(self.source.get_resources(query)) or []
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/query.py", line 332, in get_resources
    return self.query.filter(self.manager, **query)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/query.py", line 56, in filter
    resources = self._pagination_limit_offset(m, enum_op, path, limit)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/query.py", line 106, in _pagination_limit_offset
    resources = resources + res
TypeError: can only concatenate list (not "NoneType") to list
2025-04-24 19:59:42,682 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/cloud-custodian/c7n/policy.py", line 330, in run
    resources = self.policy.resource_manager.resources()
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/query.py", line 426, in resources
    resources = self._fetch_resources(q)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/query.py", line 445, in _fetch_resources
    return self.augment(self.source.get_resources(query)) or []
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/query.py", line 332, in get_resources
    return self.query.filter(self.manager, **query)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/query.py", line 56, in filter
    resources = self._pagination_limit_offset(m, enum_op, path, limit)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/query.py", line 106, in _pagination_limit_offset
    resources = resources + res
TypeError: can only concatenate list (not "NoneType") to list
2025-04-24 20:01:23,521 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/cloud-custodian/c7n/policy.py", line 330, in run
    resources = self.policy.resource_manager.resources()
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/query.py", line 426, in resources
    resources = self._fetch_resources(q)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/query.py", line 445, in _fetch_resources
    return self.augment(self.source.get_resources(query)) or []
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/query.py", line 332, in get_resources
    return self.query.filter(self.manager, **query)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/query.py", line 56, in filter
    resources = self._pagination_limit_offset(m, enum_op, path, limit)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/query.py", line 106, in _pagination_limit_offset
    resources = resources + res
TypeError: can only concatenate list (not "NoneType") to list
2025-04-24 20:04:56,169 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:27 time:0.63
2025-04-24 20:06:08,867 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:27 time:0.00
2025-04-24 20:06:09,094 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/cloud-custodian/c7n/policy.py", line 364, in run
    results = a.process(resources)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/actions/base.py", line 34, in process
    self.perform_action(resource)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/resources/hss.py", line 93, in perform_action
    host_ids = [r["host_id"] for r in resource_set]
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/resources/hss.py", line 93, in <listcomp>
    host_ids = [r["host_id"] for r in resource_set]
TypeError: string indices must be integers
2025-04-24 20:07:52,259 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:27 time:0.00
2025-04-24 20:07:52,476 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/cloud-custodian/c7n/policy.py", line 364, in run
    results = a.process(resources)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/actions/base.py", line 34, in process
    self.perform_action(resource)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/resources/hss.py", line 94, in perform_action
    host_ids = [r["host_id"] for r in resource_set]
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/resources/hss.py", line 94, in <listcomp>
    host_ids = [r["host_id"] for r in resource_set]
TypeError: string indices must be integers
2025-04-24 20:13:38,662 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:1 time:0.00
2025-04-24 20:14:07,310 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:1 time:0.00
2025-04-24 20:14:07,659 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/cloud-custodian/c7n/policy.py", line 364, in run
    results = a.process(resources)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/actions/base.py", line 34, in process
    self.perform_action(resource)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/resources/hss.py", line 93, in perform_action
    host_ids = [r["host_id"] for r in resource_set]
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/resources/hss.py", line 93, in <listcomp>
    host_ids = [r["host_id"] for r in resource_set]
TypeError: string indices must be integers
2025-04-24 20:15:15,369 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:1 time:0.00
2025-04-24 20:15:15,620 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/cloud-custodian/c7n/policy.py", line 364, in run
    results = a.process(resources)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/actions/base.py", line 34, in process
    self.perform_action(resource)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/resources/hss.py", line 105, in perform_action
    host_ids = [r["host_id"] for r in resource_set]
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/resources/hss.py", line 105, in <listcomp>
    host_ids = [r["host_id"] for r in resource_set]
TypeError: string indices must be integers
2025-04-24 20:18:27,207 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:1 time:0.00
2025-04-24 20:18:27,379 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/cloud-custodian/c7n/policy.py", line 364, in run
    results = a.process(resources)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/actions/base.py", line 34, in process
    self.perform_action(resource)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/resources/hss.py", line 107, in perform_action
    host_ids = [r["host_id"] for r in resource_set]
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/resources/hss.py", line 107, in <listcomp>
    host_ids = [r["host_id"] for r in resource_set]
TypeError: string indices must be integers
2025-04-24 20:20:53,952 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:1 time:0.59
2025-04-24 20:20:54,155 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 127, in response_hook
    resp.raise_for_status()
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 400 Client Error:  for url: https://hss.cn-north-4.myhuaweicloud.com/v5/06ff15244b2748b49e69c2140b319e9e/host-management/protection

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/resources/hss.py", line 114, in perform_action
    response = client.switch_hosts_protect_status(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkhss/v5/hss_client.py", line 10420, in switch_hosts_protect_status
    return self._call_api(**http_info)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkhss/v5/hss_client.py", line 10755, in _call_api
    return self.do_http_request(**kwargs)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/client.py", line 480, in do_http_request
    response = self._do_http_request_sync(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/client.py", line 531, in _do_http_request_sync
    response = self._http_client.do_request_sync(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 100, in do_request_sync
    self.response_error_hook_factory()(response)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 129, in response_hook
    self._exception_handler.handle_exception(httpError.request, httpError.response)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/exceptions/exception_handler.py", line 75, in handle_exception
    raise exceptions.ClientRequestException(response.status_code, sdk_error) if response.status_code < 500 \
huaweicloudsdkcore.exceptions.exceptions.ClientRequestException: ClientRequestException - {status_code:400,request_id:2c292f54805635bb91e53cf541db6212,error_code:400,error_msg:,encoded_authorization_message:None }

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/cloud-custodian/c7n/policy.py", line 364, in run
    results = a.process(resources)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/actions/base.py", line 34, in process
    self.perform_action(resource)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/resources/hss.py", line 118, in perform_action
    except exceptions.ClientRequestException as e:
AttributeError: module 'huaweicloudsdkcore.exceptions' has no attribute 'ClientRequestException'
2025-04-24 20:21:38,994 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:1 time:0.00
2025-04-24 20:21:39,360 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 127, in response_hook
    resp.raise_for_status()
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 400 Client Error:  for url: https://hss.cn-north-4.myhuaweicloud.com/v5/06ff15244b2748b49e69c2140b319e9e/host-management/protection

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/resources/hss.py", line 114, in perform_action
    response = client.switch_hosts_protect_status(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkhss/v5/hss_client.py", line 10420, in switch_hosts_protect_status
    return self._call_api(**http_info)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkhss/v5/hss_client.py", line 10755, in _call_api
    return self.do_http_request(**kwargs)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/client.py", line 480, in do_http_request
    response = self._do_http_request_sync(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/client.py", line 531, in _do_http_request_sync
    response = self._http_client.do_request_sync(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 100, in do_request_sync
    self.response_error_hook_factory()(response)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 129, in response_hook
    self._exception_handler.handle_exception(httpError.request, httpError.response)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/exceptions/exception_handler.py", line 75, in handle_exception
    raise exceptions.ClientRequestException(response.status_code, sdk_error) if response.status_code < 500 \
huaweicloudsdkcore.exceptions.exceptions.ClientRequestException: ClientRequestException - {status_code:400,request_id:fbd92b050f2f100326aae628a31d88ee,error_code:400,error_msg:,encoded_authorization_message:None }

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/cloud-custodian/c7n/policy.py", line 364, in run
    results = a.process(resources)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/actions/base.py", line 34, in process
    self.perform_action(resource)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/resources/hss.py", line 118, in perform_action
    except exceptions.ClientRequestException as e:
AttributeError: module 'huaweicloudsdkcore.exceptions' has no attribute 'ClientRequestException'
2025-04-24 20:22:55,983 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:1 time:0.00
2025-04-24 20:22:56,553 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 127, in response_hook
    resp.raise_for_status()
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 400 Client Error:  for url: https://hss.cn-north-4.myhuaweicloud.com/v5/06ff15244b2748b49e69c2140b319e9e/host-management/protection

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/resources/hss.py", line 115, in perform_action
    response = client.switch_hosts_protect_status(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkhss/v5/hss_client.py", line 10420, in switch_hosts_protect_status
    return self._call_api(**http_info)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkhss/v5/hss_client.py", line 10755, in _call_api
    return self.do_http_request(**kwargs)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/client.py", line 480, in do_http_request
    response = self._do_http_request_sync(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/client.py", line 531, in _do_http_request_sync
    response = self._http_client.do_request_sync(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 100, in do_request_sync
    self.response_error_hook_factory()(response)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 129, in response_hook
    self._exception_handler.handle_exception(httpError.request, httpError.response)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/exceptions/exception_handler.py", line 75, in handle_exception
    raise exceptions.ClientRequestException(response.status_code, sdk_error) if response.status_code < 500 \
huaweicloudsdkcore.exceptions.exceptions.ClientRequestException: ClientRequestException - {status_code:400,request_id:65eea6a3e14cbe65724ae098d8bcf142,error_code:400,error_msg:,encoded_authorization_message:None }

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/cloud-custodian/c7n/policy.py", line 364, in run
    results = a.process(resources)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/actions/base.py", line 34, in process
    self.perform_action(resource)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/resources/hss.py", line 119, in perform_action
    except exceptions.ClientRequestException as e:
AttributeError: module 'huaweicloudsdkcore.exceptions' has no attribute 'ClientRequestException'
2025-04-24 20:24:00,008 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:1 time:0.00
2025-04-24 20:29:13,109 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 127, in response_hook
    resp.raise_for_status()
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 400 Client Error:  for url: https://hss.cn-north-4.myhuaweicloud.com/v5/06ff15244b2748b49e69c2140b319e9e/host-management/protection

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/resources/hss.py", line 120, in perform_action
    class SwitchHostsProtectStatusAction(HuaweiCloudBaseAction):
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkhss/v5/hss_client.py", line 10420, in switch_hosts_protect_status
    return self._call_api(**http_info)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkhss/v5/hss_client.py", line 10755, in _call_api
    return self.do_http_request(**kwargs)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/client.py", line 480, in do_http_request
    response = self._do_http_request_sync(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/client.py", line 531, in _do_http_request_sync
    response = self._http_client.do_request_sync(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 100, in do_request_sync
    self.response_error_hook_factory()(response)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 129, in response_hook
    self._exception_handler.handle_exception(httpError.request, httpError.response)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/exceptions/exception_handler.py", line 75, in handle_exception
    raise exceptions.ClientRequestException(response.status_code, sdk_error) if response.status_code < 500 \
huaweicloudsdkcore.exceptions.exceptions.ClientRequestException: ClientRequestException - {status_code:400,request_id:d60bcc00427e8bbfa4646e9323215e0d,error_code:400,error_msg:,encoded_authorization_message:None }

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/cloud-custodian/c7n/policy.py", line 364, in run
    results = a.process(resources)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/actions/base.py", line 34, in process
    self.perform_action(resource)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/resources/hss.py", line 124, in perform_action
AttributeError: module 'huaweicloudsdkcore.exceptions' has no attribute 'ClientRequestException'
2025-04-24 21:03:29,455 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:1 time:0.49
2025-04-24 21:03:29,766 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 127, in response_hook
    resp.raise_for_status()
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 500 Server Error:  for url: https://hss.cn-north-4.myhuaweicloud.com/v5/06ff15244b2748b49e69c2140b319e9e/host-management/protection

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/resources/hss.py", line 200, in process
    response = client.switch_hosts_protect_status(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkhss/v5/hss_client.py", line 10420, in switch_hosts_protect_status
    return self._call_api(**http_info)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkhss/v5/hss_client.py", line 10755, in _call_api
    return self.do_http_request(**kwargs)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/client.py", line 480, in do_http_request
    response = self._do_http_request_sync(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/client.py", line 531, in _do_http_request_sync
    response = self._http_client.do_request_sync(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 100, in do_request_sync
    self.response_error_hook_factory()(response)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 129, in response_hook
    self._exception_handler.handle_exception(httpError.request, httpError.response)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/exceptions/exception_handler.py", line 75, in handle_exception
    raise exceptions.ClientRequestException(response.status_code, sdk_error) if response.status_code < 500 \
huaweicloudsdkcore.exceptions.exceptions.ServerResponseException: ServerResponseException - {status_code:500,request_id:a7b59e65c026ac4d1b3b3fa16d5b0709,error_code:HSS.0008,error_msg:Internal system error.,encoded_authorization_message:None }

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/cloud-custodian/c7n/policy.py", line 364, in run
    results = a.process(resources)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/resources/hss.py", line 204, in process
    except exceptions.ClientRequestException as e:
AttributeError: module 'huaweicloudsdkcore.exceptions' has no attribute 'ClientRequestException'
2025-04-24 21:04:28,875 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:1 time:0.00
2025-04-24 21:04:29,244 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 127, in response_hook
    resp.raise_for_status()
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 500 Server Error:  for url: https://hss.cn-north-4.myhuaweicloud.com/v5/06ff15244b2748b49e69c2140b319e9e/host-management/protection

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/cloud-custodian/c7n/policy.py", line 364, in run
    results = a.process(resources)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/resources/hss.py", line 200, in process
    response = client.switch_hosts_protect_status(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkhss/v5/hss_client.py", line 10420, in switch_hosts_protect_status
    return self._call_api(**http_info)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkhss/v5/hss_client.py", line 10755, in _call_api
    return self.do_http_request(**kwargs)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/client.py", line 480, in do_http_request
    response = self._do_http_request_sync(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/client.py", line 531, in _do_http_request_sync
    response = self._http_client.do_request_sync(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 100, in do_request_sync
    self.response_error_hook_factory()(response)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 129, in response_hook
    self._exception_handler.handle_exception(httpError.request, httpError.response)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/exceptions/exception_handler.py", line 75, in handle_exception
    raise exceptions.ClientRequestException(response.status_code, sdk_error) if response.status_code < 500 \
huaweicloudsdkcore.exceptions.exceptions.ServerResponseException: ServerResponseException - {status_code:500,request_id:e77e68119d0720558fe1c3ae89a14a1a,error_code:HSS.0008,error_msg:Internal system error.,encoded_authorization_message:None }
2025-04-24 21:04:53,478 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:1 time:0.00
2025-04-24 21:04:53,859 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 127, in response_hook
    resp.raise_for_status()
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 500 Server Error:  for url: https://hss.cn-north-4.myhuaweicloud.com/v5/06ff15244b2748b49e69c2140b319e9e/host-management/protection

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/cloud-custodian/c7n/policy.py", line 364, in run
    results = a.process(resources)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/resources/hss.py", line 200, in process
    response = client.switch_hosts_protect_status(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkhss/v5/hss_client.py", line 10420, in switch_hosts_protect_status
    return self._call_api(**http_info)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkhss/v5/hss_client.py", line 10755, in _call_api
    return self.do_http_request(**kwargs)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/client.py", line 480, in do_http_request
    response = self._do_http_request_sync(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/client.py", line 531, in _do_http_request_sync
    response = self._http_client.do_request_sync(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 100, in do_request_sync
    self.response_error_hook_factory()(response)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 129, in response_hook
    self._exception_handler.handle_exception(httpError.request, httpError.response)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/exceptions/exception_handler.py", line 75, in handle_exception
    raise exceptions.ClientRequestException(response.status_code, sdk_error) if response.status_code < 500 \
huaweicloudsdkcore.exceptions.exceptions.ServerResponseException: ServerResponseException - {status_code:500,request_id:1d3f0216e0ad77e3f38e1fb8c09e263d,error_code:HSS.0008,error_msg:Internal system error.,encoded_authorization_message:None }
2025-04-24 21:23:07,730 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:1 time:0.54
2025-04-24 21:23:07,934 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 127, in response_hook
    resp.raise_for_status()
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 500 Server Error:  for url: https://hss.cn-north-4.myhuaweicloud.com/v5/06ff15244b2748b49e69c2140b319e9e/host-management/protection

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/cloud-custodian/c7n/policy.py", line 364, in run
    results = a.process(resources)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/resources/hss.py", line 200, in process
    response = client.switch_hosts_protect_status(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkhss/v5/hss_client.py", line 10420, in switch_hosts_protect_status
    return self._call_api(**http_info)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkhss/v5/hss_client.py", line 10755, in _call_api
    return self.do_http_request(**kwargs)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/client.py", line 480, in do_http_request
    response = self._do_http_request_sync(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/client.py", line 531, in _do_http_request_sync
    response = self._http_client.do_request_sync(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 100, in do_request_sync
    self.response_error_hook_factory()(response)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 129, in response_hook
    self._exception_handler.handle_exception(httpError.request, httpError.response)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/exceptions/exception_handler.py", line 75, in handle_exception
    raise exceptions.ClientRequestException(response.status_code, sdk_error) if response.status_code < 500 \
huaweicloudsdkcore.exceptions.exceptions.ServerResponseException: ServerResponseException - {status_code:500,request_id:8b2f2375330f7ea6d2a20e3cbce9acce,error_code:HSS.0008,error_msg:Internal system error.,encoded_authorization_message:None }
2025-04-25 09:38:34,821 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:1 time:0.69
2025-04-25 09:38:35,064 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 127, in response_hook
    resp.raise_for_status()
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 500 Server Error:  for url: https://hss.cn-north-4.myhuaweicloud.com/v5/06ff15244b2748b49e69c2140b319e9e/host-management/protection

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/cloud-custodian/c7n/policy.py", line 364, in run
    results = a.process(resources)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/resources/hss.py", line 201, in process
    response = client.switch_hosts_protect_status(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkhss/v5/hss_client.py", line 10420, in switch_hosts_protect_status
    return self._call_api(**http_info)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkhss/v5/hss_client.py", line 10755, in _call_api
    return self.do_http_request(**kwargs)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/client.py", line 480, in do_http_request
    response = self._do_http_request_sync(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/client.py", line 531, in _do_http_request_sync
    response = self._http_client.do_request_sync(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 100, in do_request_sync
    self.response_error_hook_factory()(response)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 129, in response_hook
    self._exception_handler.handle_exception(httpError.request, httpError.response)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/exceptions/exception_handler.py", line 75, in handle_exception
    raise exceptions.ClientRequestException(response.status_code, sdk_error) if response.status_code < 500 \
huaweicloudsdkcore.exceptions.exceptions.ServerResponseException: ServerResponseException - {status_code:500,request_id:479caec32fd0d8cef581ad18329de6c9,error_code:HSS.0008,error_msg:Internal system error.,encoded_authorization_message:None }
2025-04-25 09:42:06,662 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:1 time:0.00
2025-04-25 09:42:07,103 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 127, in response_hook
    resp.raise_for_status()
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 500 Server Error:  for url: https://hss.cn-north-4.myhuaweicloud.com/v5/06ff15244b2748b49e69c2140b319e9e/host-management/protection

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/cloud-custodian/c7n/policy.py", line 364, in run
    results = a.process(resources)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/resources/hss.py", line 202, in process
    response = client.switch_hosts_protect_status(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkhss/v5/hss_client.py", line 10420, in switch_hosts_protect_status
    return self._call_api(**http_info)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkhss/v5/hss_client.py", line 10755, in _call_api
    return self.do_http_request(**kwargs)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/client.py", line 480, in do_http_request
    response = self._do_http_request_sync(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/client.py", line 531, in _do_http_request_sync
    response = self._http_client.do_request_sync(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 100, in do_request_sync
    self.response_error_hook_factory()(response)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 129, in response_hook
    self._exception_handler.handle_exception(httpError.request, httpError.response)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/exceptions/exception_handler.py", line 75, in handle_exception
    raise exceptions.ClientRequestException(response.status_code, sdk_error) if response.status_code < 500 \
huaweicloudsdkcore.exceptions.exceptions.ServerResponseException: ServerResponseException - {status_code:500,request_id:57b10264b97ef6e9c557f36689e226b7,error_code:HSS.0008,error_msg:Internal system error.,encoded_authorization_message:None }
2025-04-25 09:45:24,113 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:1 time:0.00
2025-04-25 09:45:24,336 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/cloud-custodian/c7n/policy.py", line 364, in run
    results = a.process(resources)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/resources/hss.py", line 179, in process
    region=region
UnboundLocalError: local variable 'region' referenced before assignment
2025-04-25 09:46:11,883 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:1 time:0.00
2025-04-25 09:46:12,080 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/cloud-custodian/c7n/policy.py", line 364, in run
    results = a.process(resources)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/resources/hss.py", line 189, in process
    request_info = SwitchHostsProtectStatusRequestInfo(
TypeError: __init__() got an unexpected keyword argument 'region'
2025-04-25 09:52:28,626 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:1 time:0.00
2025-04-25 09:52:28,827 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/cloud-custodian/c7n/policy.py", line 364, in run
    results = a.process(resources)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/resources/hss.py", line 189, in process
    request_info = SwitchHostsProtectStatusRequestInfo(
TypeError: __init__() got an unexpected keyword argument 'region'
2025-04-25 09:53:11,356 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:1 time:0.00
2025-04-25 09:53:11,883 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 127, in response_hook
    resp.raise_for_status()
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 500 Server Error:  for url: https://hss.cn-north-4.myhuaweicloud.com/v5/06ff15244b2748b49e69c2140b319e9e/host-management/protection

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/cloud-custodian/c7n/policy.py", line 364, in run
    results = a.process(resources)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/resources/hss.py", line 204, in process
    response = client.switch_hosts_protect_status(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkhss/v5/hss_client.py", line 10420, in switch_hosts_protect_status
    return self._call_api(**http_info)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkhss/v5/hss_client.py", line 10755, in _call_api
    return self.do_http_request(**kwargs)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/client.py", line 480, in do_http_request
    response = self._do_http_request_sync(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/client.py", line 531, in _do_http_request_sync
    response = self._http_client.do_request_sync(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 100, in do_request_sync
    self.response_error_hook_factory()(response)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 129, in response_hook
    self._exception_handler.handle_exception(httpError.request, httpError.response)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/exceptions/exception_handler.py", line 75, in handle_exception
    raise exceptions.ClientRequestException(response.status_code, sdk_error) if response.status_code < 500 \
huaweicloudsdkcore.exceptions.exceptions.ServerResponseException: ServerResponseException - {status_code:500,request_id:d0f571c4725dc6298f9d8c3669206995,error_code:HSS.1002,error_msg:Available quotas are insufficient.,encoded_authorization_message:None }
2025-04-25 09:59:35,999 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:1 time:0.59
2025-04-25 09:59:36,434 - custodian.actions - INFO - Successfully switched protection status to hss.version.basic for 1 hosts
2025-04-25 09:59:36,435 - custodian.policy - INFO - policy:enable-hss-protection action:switchhostsprotectstatusaction resources:1 execution_time:0.43
2025-04-25 10:00:12,548 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:1 time:0.00
2025-04-25 10:00:13,212 - custodian.actions - INFO - Successfully switched protection status to hss.version.null for 1 hosts
2025-04-25 10:00:13,213 - custodian.policy - INFO - policy:enable-hss-protection action:switchhostsprotectstatusaction resources:1 execution_time:0.66
2025-04-25 10:03:23,390 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:1 time:0.00
2025-04-25 10:03:24,032 - custodian.actions - INFO - Successfully switched protection status to hss.version.basic for 1 hosts
2025-04-25 10:03:24,033 - custodian.policy - INFO - policy:enable-hss-protection action:switchhostsprotectstatusaction resources:1 execution_time:0.64
2025-04-25 10:19:18,213 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:1 time:0.52
2025-04-25 10:19:18,617 - custodian.actions - INFO - Successfully switched protection status to hss.version.basic for 1 hosts
2025-04-25 10:19:18,618 - custodian.policy - INFO - policy:enable-hss-protection action:switchhostsprotectstatusaction resources:1 execution_time:0.40
2025-04-25 10:29:13,988 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:1 time:0.01
2025-04-25 10:29:14,544 - custodian.actions - INFO - Successfully switched protection status to hss.version.basic for 1 hosts
2025-04-25 10:29:14,545 - custodian.policy - INFO - policy:enable-hss-protection action:switchhostsprotectstatusaction resources:1 execution_time:0.56
2025-04-25 10:35:35,217 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:1 time:0.51
2025-04-25 10:35:35,592 - custodian.actions - INFO - Successfully switched protection status to hss.version.basic for 1 hosts
2025-04-25 10:35:35,593 - custodian.policy - INFO - policy:enable-hss-protection action:switchhostsprotectstatusaction resources:1 execution_time:0.37
2025-04-25 10:36:46,644 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:1 time:0.00
2025-04-25 10:36:47,222 - custodian.actions - INFO - Successfully switched protection status to hss.version.basic for 1 hosts
2025-04-25 10:36:47,222 - custodian.policy - INFO - policy:enable-hss-protection action:switchhostsprotectstatusaction resources:1 execution_time:0.58
2025-04-25 11:19:15,203 - custodian.huaweicloud.client - ERROR - No default region set. Specify a default via HUAWEI_DEFAULT_REGION
2025-04-25 11:19:15,205 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/cloud-custodian/c7n/policy.py", line 330, in run
    resources = self.policy.resource_manager.resources()
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/query.py", line 424, in resources
    resources = self._fetch_resources(q)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/query.py", line 443, in _fetch_resources
    return self.augment(self.source.get_resources(query)) or []
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/query.py", line 330, in get_resources
    return self.query.filter(self.manager, **query)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/query.py", line 62, in filter
    resources = self._non_pagination(m, enum_op, path)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/query.py", line 192, in _non_pagination
    session = local_session(self.session_factory)
  File "/home/cloud-custodian/c7n/utils.py", line 334, in local_session
    s = factory()
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/client.py", line 118, in __init__
    sys.exit(1)
SystemExit: 1
2025-04-25 11:20:12,699 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:1 time:0.54
2025-04-25 11:20:13,036 - custodian.actions - INFO - Successfully switched protection status to hss.version.basic for 1 hosts
2025-04-25 11:20:13,036 - custodian.policy - INFO - policy:enable-hss-protection action:switchhostsprotectstatusaction resources:1 execution_time:0.34
2025-04-25 16:13:19,190 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:1 time:2.98
2025-04-25 16:13:19,709 - custodian.actions - INFO - Successfully switched protection status to hss.version.basic for 1 hosts
2025-04-25 16:13:19,710 - custodian.policy - INFO - policy:enable-hss-protection action:switchhostsprotectstatusaction resources:1 execution_time:0.52
2025-04-26 10:37:59,497 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:1 time:0.70
2025-04-26 10:37:59,917 - custodian.actions - INFO - Successfully switched protection status to hss.version.basic for 1 host
2025-04-26 10:37:59,918 - custodian.policy - INFO - policy:enable-hss-protection action:switchhostsprotectstatusaction resources:1 execution_time:0.42
2025-04-26 10:46:05,019 - custodian.policy - INFO - policy:enable-hss-protection resource:huaweicloud.hss region: count:1 time:0.00
2025-04-26 10:46:06,510 - custodian.actions - INFO - Successfully switched protection status to hss.version.basic for 1 host
2025-04-26 10:46:06,511 - custodian.policy - INFO - policy:enable-hss-protection action:switchhostsprotectstatusaction resources:1 execution_time:1.49
