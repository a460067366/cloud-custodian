2025-04-25 10:19:18,624 - custodian.policy - INFO - policy:enable-wtp-protection resource:huaweicloud.hss region: count:1 time:0.00
2025-04-25 10:19:19,068 - custodian.actions - INFO - Successfully disabled web tamper protection for host 09724867-7b91-482d-9702-daf9113f1b62
2025-04-25 10:19:19,068 - custodian.policy - INFO - policy:enable-wtp-protection action:setwtpprotectionstatusaction resources:1 execution_time:0.44
2025-04-25 10:29:14,550 - custodian.policy - INFO - policy:enable-wtp-protection resource:huaweicloud.hss region: count:9 time:0.00
2025-04-25 10:29:14,851 - custodian.actions - INFO - Successfully disabled web tamper protection for host cf2f2f7d-48be-45a0-ad6f-5a89e62c4677
2025-04-25 10:29:14,972 - custodian.actions - INFO - Successfully disabled web tamper protection for host afd32050-24a5-4bd6-965d-feb8b13adf69
2025-04-25 10:29:15,136 - custodian.actions - INFO - Successfully disabled web tamper protection for host 47f3e56e-18ab-4c00-8fa7-6a78dceab69e
2025-04-25 10:29:15,240 - custodian.actions - INFO - Successfully disabled web tamper protection for host eab583a8-ff16-4b7a-aefc-e95ad3a78388
2025-04-25 10:29:15,399 - custodian.actions - INFO - Successfully disabled web tamper protection for host 31ea19ff-69b2-476c-97f1-409ea301fa20
2025-04-25 10:29:15,498 - custodian.actions - INFO - Successfully disabled web tamper protection for host e703a9db-cf5c-4963-8b53-e0059ed2d002
2025-04-25 10:29:15,588 - custodian.actions - INFO - Successfully disabled web tamper protection for host bbc906d9-1244-4434-898d-0ebac8ab3724
2025-04-25 10:29:15,707 - custodian.actions - INFO - Successfully disabled web tamper protection for host 1e88b7ab-6d61-41fc-8806-05eb45407199
2025-04-25 10:29:15,817 - custodian.actions - INFO - Successfully disabled web tamper protection for host 2fbd78ad-781b-4942-80eb-bfb9de45a77e
2025-04-25 10:29:15,818 - custodian.policy - INFO - policy:enable-wtp-protection action:setwtpprotectionstatusaction resources:9 execution_time:1.26
2025-04-25 10:35:35,598 - custodian.policy - INFO - policy:enable-wtp-protection resource:huaweicloud.hss region: count:10 time:0.00
2025-04-25 10:35:35,862 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 127, in response_hook
    resp.raise_for_status()
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 500 Server Error:  for url: https://hss.cn-north-4.myhuaweicloud.com/v5/06ff15244b2748b49e69c2140b319e9e/webtamper/static/status

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/cloud-custodian/c7n/policy.py", line 364, in run
    results = a.process(resources)
  File "/home/cloud-custodian/tools/c7n_huaweicloud/c7n_huaweicloud/resources/hss.py", line 269, in process
    response = client.set_wtp_protection_status_info(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkhss/v5/hss_client.py", line 9022, in set_wtp_protection_status_info
    return self._call_api(**http_info)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkhss/v5/hss_client.py", line 10755, in _call_api
    return self.do_http_request(**kwargs)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/client.py", line 480, in do_http_request
    response = self._do_http_request_sync(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/client.py", line 531, in _do_http_request_sync
    response = self._http_client.do_request_sync(request)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 100, in do_request_sync
    self.response_error_hook_factory()(response)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/http/http_client.py", line 129, in response_hook
    self._exception_handler.handle_exception(httpError.request, httpError.response)
  File "/home/cloud-custodian/.venv/lib/python3.8/site-packages/huaweicloudsdkcore/exceptions/exception_handler.py", line 75, in handle_exception
    raise exceptions.ClientRequestException(response.status_code, sdk_error) if response.status_code < 500 \
huaweicloudsdkcore.exceptions.exceptions.ServerResponseException: ServerResponseException - {status_code:500,request_id:42609ce54c084c81dd4002ab6abd5c09,error_code:HSS.0008,error_msg:Internal system error.,encoded_authorization_message:None }
2025-04-25 10:36:47,228 - custodian.policy - INFO - policy:enable-wtp-protection resource:huaweicloud.hss region: count:10 time:0.00
2025-04-25 10:36:47,558 - custodian.actions - INFO - Successfully disabled web tamper protection for host cf2f2f7d-48be-45a0-ad6f-5a89e62c4677
2025-04-25 10:36:47,652 - custodian.actions - INFO - Successfully disabled web tamper protection for host 09724867-7b91-482d-9702-daf9113f1b62
2025-04-25 10:36:47,818 - custodian.actions - INFO - Successfully disabled web tamper protection for host afd32050-24a5-4bd6-965d-feb8b13adf69
2025-04-25 10:36:47,958 - custodian.actions - INFO - Successfully disabled web tamper protection for host 47f3e56e-18ab-4c00-8fa7-6a78dceab69e
2025-04-25 10:36:48,058 - custodian.actions - INFO - Successfully disabled web tamper protection for host eab583a8-ff16-4b7a-aefc-e95ad3a78388
2025-04-25 10:36:48,166 - custodian.actions - INFO - Successfully disabled web tamper protection for host 31ea19ff-69b2-476c-97f1-409ea301fa20
2025-04-25 10:36:48,300 - custodian.actions - INFO - Successfully disabled web tamper protection for host e703a9db-cf5c-4963-8b53-e0059ed2d002
2025-04-25 10:36:48,417 - custodian.actions - INFO - Successfully disabled web tamper protection for host bbc906d9-1244-4434-898d-0ebac8ab3724
2025-04-25 10:36:48,524 - custodian.actions - INFO - Successfully disabled web tamper protection for host 1e88b7ab-6d61-41fc-8806-05eb45407199
2025-04-25 10:36:48,619 - custodian.actions - INFO - Successfully disabled web tamper protection for host 2fbd78ad-781b-4942-80eb-bfb9de45a77e
2025-04-25 10:36:48,620 - custodian.policy - INFO - policy:enable-wtp-protection action:setwtpprotectionstatusaction resources:10 execution_time:1.39
2025-04-25 11:20:13,041 - custodian.policy - INFO - policy:enable-wtp-protection resource:huaweicloud.hss region: count:10 time:0.00
2025-04-25 11:20:13,291 - custodian.actions - INFO - Successfully disabled web tamper protection for host cf2f2f7d-48be-45a0-ad6f-5a89e62c4677
2025-04-25 11:20:13,388 - custodian.actions - INFO - Successfully disabled web tamper protection for host afd32050-24a5-4bd6-965d-feb8b13adf69
2025-04-25 11:20:13,521 - custodian.actions - INFO - Successfully disabled web tamper protection for host 47f3e56e-18ab-4c00-8fa7-6a78dceab69e
2025-04-25 11:20:13,639 - custodian.actions - INFO - Successfully disabled web tamper protection for host eab583a8-ff16-4b7a-aefc-e95ad3a78388
2025-04-25 11:20:13,821 - custodian.actions - INFO - Successfully disabled web tamper protection for host 31ea19ff-69b2-476c-97f1-409ea301fa20
2025-04-25 11:20:13,970 - custodian.actions - INFO - Successfully disabled web tamper protection for host 09724867-7b91-482d-9702-daf9113f1b62
2025-04-25 11:20:14,078 - custodian.actions - INFO - Successfully disabled web tamper protection for host e703a9db-cf5c-4963-8b53-e0059ed2d002
2025-04-25 11:20:14,187 - custodian.actions - INFO - Successfully disabled web tamper protection for host bbc906d9-1244-4434-898d-0ebac8ab3724
2025-04-25 11:20:14,286 - custodian.actions - INFO - Successfully disabled web tamper protection for host 1e88b7ab-6d61-41fc-8806-05eb45407199
2025-04-25 11:20:14,450 - custodian.actions - INFO - Successfully disabled web tamper protection for host 2fbd78ad-781b-4942-80eb-bfb9de45a77e
2025-04-25 11:20:14,450 - custodian.policy - INFO - policy:enable-wtp-protection action:setwtpprotectionstatusaction resources:10 execution_time:1.41
2025-04-25 16:13:19,718 - custodian.policy - INFO - policy:enable-wtp-protection resource:huaweicloud.hss region: count:10 time:0.00
2025-04-25 16:13:20,016 - custodian.actions - INFO - Successfully disabled web tamper protection for host cf2f2f7d-48be-45a0-ad6f-5a89e62c4677
2025-04-25 16:13:20,118 - custodian.actions - INFO - Successfully disabled web tamper protection for host afd32050-24a5-4bd6-965d-feb8b13adf69
2025-04-25 16:13:20,239 - custodian.actions - INFO - Successfully disabled web tamper protection for host 47f3e56e-18ab-4c00-8fa7-6a78dceab69e
2025-04-25 16:13:20,598 - custodian.actions - INFO - Successfully disabled web tamper protection for host eab583a8-ff16-4b7a-aefc-e95ad3a78388
2025-04-25 16:13:20,700 - custodian.actions - INFO - Successfully disabled web tamper protection for host 31ea19ff-69b2-476c-97f1-409ea301fa20
2025-04-25 16:13:20,811 - custodian.actions - INFO - Successfully disabled web tamper protection for host 09724867-7b91-482d-9702-daf9113f1b62
2025-04-25 16:13:20,967 - custodian.actions - INFO - Successfully disabled web tamper protection for host e703a9db-cf5c-4963-8b53-e0059ed2d002
2025-04-25 16:13:21,107 - custodian.actions - INFO - Successfully disabled web tamper protection for host bbc906d9-1244-4434-898d-0ebac8ab3724
2025-04-25 16:13:21,256 - custodian.actions - INFO - Successfully disabled web tamper protection for host 1e88b7ab-6d61-41fc-8806-05eb45407199
2025-04-25 16:13:21,348 - custodian.actions - INFO - Successfully disabled web tamper protection for host 2fbd78ad-781b-4942-80eb-bfb9de45a77e
2025-04-25 16:13:21,349 - custodian.policy - INFO - policy:enable-wtp-protection action:setwtpprotectionstatusaction resources:10 execution_time:1.63
2025-04-26 10:37:59,923 - custodian.policy - INFO - policy:enable-wtp-protection resource:huaweicloud.hss region: count:10 time:0.00
2025-04-26 10:38:00,182 - custodian.actions - INFO - Successfully disabled web tamper protection for host cf2f2f7d-48be-45a0-ad6f-5a89e62c4677
2025-04-26 10:38:00,358 - custodian.actions - INFO - Successfully disabled web tamper protection for host afd32050-24a5-4bd6-965d-feb8b13adf69
2025-04-26 10:38:00,435 - custodian.actions - INFO - Successfully disabled web tamper protection for host 47f3e56e-18ab-4c00-8fa7-6a78dceab69e
2025-04-26 10:38:00,522 - custodian.actions - INFO - Successfully disabled web tamper protection for host eab583a8-ff16-4b7a-aefc-e95ad3a78388
2025-04-26 10:38:00,624 - custodian.actions - INFO - Successfully disabled web tamper protection for host 31ea19ff-69b2-476c-97f1-409ea301fa20
2025-04-26 10:38:00,819 - custodian.actions - INFO - Successfully disabled web tamper protection for host 09724867-7b91-482d-9702-daf9113f1b62
2025-04-26 10:38:00,916 - custodian.actions - INFO - Successfully disabled web tamper protection for host e703a9db-cf5c-4963-8b53-e0059ed2d002
2025-04-26 10:38:01,000 - custodian.actions - INFO - Successfully disabled web tamper protection for host bbc906d9-1244-4434-898d-0ebac8ab3724
2025-04-26 10:38:01,117 - custodian.actions - INFO - Successfully disabled web tamper protection for host 1e88b7ab-6d61-41fc-8806-05eb45407199
2025-04-26 10:38:01,198 - custodian.actions - INFO - Successfully disabled web tamper protection for host 2fbd78ad-781b-4942-80eb-bfb9de45a77e
2025-04-26 10:38:01,199 - custodian.policy - INFO - policy:enable-wtp-protection action:setwtpprotectionstatusaction resources:10 execution_time:1.27
2025-04-26 10:46:06,516 - custodian.policy - INFO - policy:enable-wtp-protection resource:huaweicloud.hss region: count:10 time:0.00
2025-04-26 10:46:06,878 - custodian.actions - INFO - Successfully disabled web tamper protection for host cf2f2f7d-48be-45a0-ad6f-5a89e62c4677
2025-04-26 10:46:07,033 - custodian.actions - INFO - Successfully disabled web tamper protection for host afd32050-24a5-4bd6-965d-feb8b13adf69
2025-04-26 10:46:07,127 - custodian.actions - INFO - Successfully disabled web tamper protection for host 47f3e56e-18ab-4c00-8fa7-6a78dceab69e
2025-04-26 10:46:07,212 - custodian.actions - INFO - Successfully disabled web tamper protection for host eab583a8-ff16-4b7a-aefc-e95ad3a78388
2025-04-26 10:46:07,320 - custodian.actions - INFO - Successfully disabled web tamper protection for host 31ea19ff-69b2-476c-97f1-409ea301fa20
2025-04-26 10:46:07,413 - custodian.actions - INFO - Successfully disabled web tamper protection for host 09724867-7b91-482d-9702-daf9113f1b62
2025-04-26 10:46:07,520 - custodian.actions - INFO - Successfully disabled web tamper protection for host e703a9db-cf5c-4963-8b53-e0059ed2d002
2025-04-26 10:46:07,681 - custodian.actions - INFO - Successfully disabled web tamper protection for host bbc906d9-1244-4434-898d-0ebac8ab3724
2025-04-26 10:46:07,805 - custodian.actions - INFO - Successfully disabled web tamper protection for host 1e88b7ab-6d61-41fc-8806-05eb45407199
2025-04-26 10:46:07,906 - custodian.actions - INFO - Successfully disabled web tamper protection for host 2fbd78ad-781b-4942-80eb-bfb9de45a77e
2025-04-26 10:46:07,907 - custodian.policy - INFO - policy:enable-wtp-protection action:setwtpprotectionstatusaction resources:10 execution_time:1.39
